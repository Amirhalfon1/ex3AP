<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>

<body>
    <form>
        <h2>Title</h2>
        <p id="bla"></p>
        
        <div class="container body-content">
            <h2>Single Player Game</h2><hr />
            <div class="col-sm-4 form-horizontal">
                <div class="form-group">
                    <label for="mazeName" class="col-sm-2 control-label">Name</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="mazeName" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="rows" class="col-sm-2 control-label">Rows</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="rows" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="cols" class="col-sm-2 control-label">Colssssssss</label>
                    <div class="col-sm-10">
                        <!--<input type="text" class="form-control" id="cols" />-->
                        <button id="btn1">Click Me!</button>
                       
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-10">
                        <button id="btn1">Click Me!</button>
                    </div>
                </div>

            </div>
            <div class="col-sm-8 text-center">
                <canvas id="mazeCanvas" width="300" height="300" style="border:2px black
                                solid"></canvas>
            </div>
        </div>

        <script src="../Scripts/jquery-3.1.1.js"></script>
        <script src="../Scripts/jQuery.mazePlugin.js"></script>
        <script>
            console.log('blablabla');
            //var productsUrl = "../api/SinglePlayerMaze/Amir/2/2";

            //$.getJSON(productsUrl, function (data) {

            //    );
            var name = $('#mazeName').val();
            var rows = $('#rows').val();
            var cols = $('#cols').val();


            $("#p").on("click", function () {
                $(this).hide();
            });

            $.ajax({
                
                type: "GET",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                url: "../api/SinglePlayerMaze/" + name + "/" + rows + "/" + cols,
                success: function (recData) {
                    var maze = { "Name": recData.Name, "Maze": recData.Maze, "Rows": recData.Rows, "Cols": recData.Cols }
                    $('#bla').append(recData.Maze);
                    $('#mazeCanvas').mazePlugin(maze);
                    alert('Success');
                },
                error: function (result) { alert('error ' + result[0]); }
            });
        </script>
        </form>
</body>
</html>